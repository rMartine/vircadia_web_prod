"use strict";(self["webpackChunkvircadia_web"]=self["webpackChunkvircadia_web"]||[]).push([[912],{13912:(e,t,n)=>{n.r(t),n.d(t,{default:()=>fe});var o=n(83673),i=n(62323),a=n(98880);const s={class:"row no-wrap"},r=["src"],l=["src"],c=(0,o.Uk)("Help"),u=(0,o.Uk)("Status"),d=(0,o.Uk)("Domain"),m=(0,o.Uk)("Metaverse"),h=(0,o.Uk)("About"),p=(0,o.Uk)("Vircadia Web SDK");function y(e,t){const n=(0,o.up)("q-btn"),y=(0,o.up)("q-separator"),g=(0,o.up)("q-item-label"),f=(0,o.up)("q-item-section"),v=(0,o.up)("q-toolbar-title"),w=(0,o.up)("q-space"),_=(0,o.up)("q-avatar"),S=(0,o.up)("q-item"),b=(0,o.up)("q-icon"),k=(0,o.up)("q-list"),W=(0,o.up)("q-menu"),$=(0,o.up)("q-btn-dropdown"),x=(0,o.up)("q-toolbar"),Z=(0,o.up)("q-header"),T=(0,o.up)("OverlayManager"),C=(0,o.up)("MainScene"),z=(0,o.up)("q-page-container"),E=(0,o.up)("q-card"),M=(0,o.up)("q-dialog"),I=(0,o.up)("q-layout"),O=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.j4)(I,{class:"full-height",id:"mainLayout",view:"lHh Lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{id:"header",elevated:""},{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o.Wm)(x,{class:"bg-dark text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{flat:"",round:"",dense:"",icon:"menu","aria-label":"User Menu",onClick:e.toggleUserMenu,class:"q-mr-sm"},null,8,["onClick"]),(0,o.Wm)(y,{dark:"",vertical:"",inset:""}),(0,o.Wm)(n,{flat:"",round:"",dense:"",icon:"travel_explore","aria-label":"Explore",onClick:t[0]||(t[0]=t=>e.onClickOpenOverlay("Explore")),class:"q-mr-sm q-ml-sm"}),(0,o.Wm)(n,{flat:"",round:"",dense:"","fab-mini":"",tooltip:"mute/unmute mic",icon:e.$store.state.audio.user.muted?"mic_off":"mic",color:e.$store.state.audio.user.hasInputAccess?"primary":"red",onClick:e.micToggled,class:"q-mr-sm q-ml-sm"},null,8,["icon","color","onClick"]),(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.getLocation),1)])),_:1}),(0,o.Wm)(g,{caption:"",class:"text-grey"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.getDomainServerState)+" ",1),(0,o.wy)((0,o.Wm)(n,{dense:"",color:"purple",size:"sm",class:"q-ml-sm absolute",style:{"margin-top":"-4px"},onClick:t[1]||(t[1]=t=>e.disconnect()),label:e.getDisconnectLabel},null,8,["label"]),[[a.F8,e.getShowDisconnect]])])),_:1})])),_:1})])),_:1}),(0,o.Wm)(w),(0,o.wy)((0,o.Wm)(S,{clickable:"",onClick:t[2]||(t[2]=t=>e.$store.state.account.isLoggedIn?e.onClickOpenOverlay("Account"):e.openDialog("Login",!0))},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{size:"48px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.getProfilePicture},null,8,r)])),_:1})])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$store.state.account.isLoggedIn?e.$store.state.account.username:"Guest"),1)])),_:1}),(0,o.Wm)(g,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$store.state.account.isLoggedIn?"Logged in":"Click to log in to metaverse"),1)])),_:1})])),_:1})])),_:1},512),[[O]]),(0,o.wy)((0,o.Wm)(n,{flat:"",round:"",dense:"",icon:"logout","aria-label":"Logout",onClick:e.logout,class:"q-mr-sm q-ml-sm"},null,8,["onClick"]),[[a.F8,e.$store.state.account.isLoggedIn]]),(0,o.Wm)(y,{dark:"",vertical:""}),(0,o.Wm)(n,{flat:"",stretch:"",icon:"settings","aria-label":"Settings Menu"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.settingsMenu,((t,n)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:n},[t.isCategory?((0,o.wg)(),(0,o.j4)(g,{key:0,header:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.label),1)])),_:2},1024)):(0,o.wy)(((0,o.wg)(),(0,o.j4)(S,{key:1,clickable:"",onClick:n=>t.action?t.action:e.onClickOpenOverlay(t.link||t.label)},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{name:t.icon},null,8,["name"])])),_:2},1024),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.label),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[O]]),t.separator?((0,o.wg)(),(0,o.j4)(y,{key:"sep"+n})):(0,o.kq)("",!0)],64)))),128))])),_:1})])),_:1})])),_:1}),(0,o.Wm)(y,{dark:"",vertical:"",inset:""}),(0,o.Wm)($,{stretch:"",flat:""},{label:(0,o.w5)((()=>[(0,o.Wm)(_,{rounded:"",size:"48px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.defaultProductLogo},null,8,l)])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{header:""},{default:(0,o.w5)((()=>[c])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.helpMenu,((t,n)=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(S,{key:n,clickable:"",onClick:n=>e.openUrl(t.link)},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{avatar:"",dense:""},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{name:t.icon},null,8,["name"])])),_:2},1024),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.label),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[O]]))),128)),(0,o.Wm)(y,{inset:"",spaced:""}),(0,o.Wm)(g,{header:""},{default:(0,o.w5)((()=>[u])),_:1}),(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[d])),_:1}),(0,o.Wm)(g,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.getDomainServerState),1)])),_:1})])),_:1})])),_:1}),(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[m])),_:1}),(0,o.Wm)(g,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.getMetaverseServerState),1)])),_:1})])),_:1})])),_:1}),(0,o.Wm)(y,{inset:"",spaced:""}),(0,o.Wm)(g,{header:""},{default:(0,o.w5)((()=>[h])),_:1}),(0,o.Wm)(g),(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$store.state.globalConsts.APP_NAME),1)])),_:1}),(0,o.Wm)(g,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$store.state.globalConsts.APP_VERSION_TAG),1)])),_:1}),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[p])),_:1}),(0,o.Wm)(g,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$store.state.globalConsts.SDK_VERSION_TAG),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1}),(0,o.Wm)(z,{class:"full-height"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,null,{manager:(0,o.w5)((()=>[(0,o.Wm)(T,{ref:"OverlayManager"},null,512)])),_:1})])),_:1}),(0,o.Wm)(M,{modelValue:e.getDialogState,"onUpdate:modelValue":t[3]||(t[3]=t=>e.getDialogState=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(E,{class:"column no-wrap items-stretch",style:{background:"rgba(0, 0, 0, 0.8)"}},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.$store.state.dialog.which),{onCloseDialog:e.closeDialog},null,8,["onCloseDialog"]))])),_:1})])),_:1},8,["modelValue"])])),_:1})}var g=n(33437);const f={ref:"mainSceneAudioElement"},v=["height","width"];function w(e,t){const n=(0,o.up)("q-resize-observer"),a=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(a,{class:"full-height"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{onResize:e.onResize},null,8,["onResize"]),(0,o._)("audio",f,null,512),(0,o._)("canvas",{height:e.canvasHeight,width:e.canvasWidth,style:(0,i.j5)({width:e.canvasWidth+"px",height:e.canvasHeight+"px"}),ref:"renderCanvas",class:"renderCanvas"},null,12,v),(0,o.WI)(e.$slots,"manager")])),_:3})}var _=n(30522),S=n(72396),b=n(2651),k=n(73844),W=n(95719),$=n(72375),x=(n(21192),n(19514),n(63387)),Z=n(68033),T=function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{l(o.next(e))}catch(t){a(t)}}function r(e){try{l(o["throw"](e))}catch(t){a(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((o=o.apply(e,t||[])).next())}))};class C{constructor(e,t=0){this._entities=new Map,this._scene=new b.Scene(e),this._sceneId=t}getSceneId(){return this._sceneId}getCameraLocation(e=0){return this._scene.cameras[e].position.clone()}setCameraLocation(e,t=0){this._scene.cameras[t].position.set(e.x,e.y,e.z)}importModel(e,t){return T(this,void 0,void 0,(function*(){const n=new URL(t),o=t.substring(0,t.lastIndexOf("/"))+"/",i=n.pathname.split("/").pop(),a=yield b.SceneLoader.ImportMeshAsync(e,o,i,this._scene);return a.meshes[0]}))}addEntity(e){return T(this,void 0,void 0,(function*(){if(!e.type)return x.Z.error(x.Z.types.ENTITIES,"Failed to specify entity type."),null;let t;switch(e.id||(e.id=(0,Z.v4)()),e.type){case"Shape":if(!e.shape)return x.Z.error(x.Z.types.ENTITIES,"Attempted to create type Shape with no shape specified"),null;switch(e.shape.toLowerCase()){case"box":t=b.MeshBuilder.CreateBox(e.name,{},this._scene);break;case"sphere":t=b.MeshBuilder.CreateSphere(e.name,{},this._scene);break;case"cylinder":t=b.MeshBuilder.CreateCylinder(e.name,{},this._scene);break;case"cone":t=b.MeshBuilder.CreateCylinder(e.name,{diameterTop:0},this._scene);break;case"triangle":t=b.MeshBuilder.CreateCylinder(e.name,{tessellation:3},this._scene);break;default:return x.Z.error(x.Z.types.ENTITIES,"Failed to create shape entity, unknown/unsupported shape type: "+e.shape),null}break;case"Model":if(!e.modelUrl)return x.Z.error(x.Z.types.ENTITIES,"Attempted to create type Model with no modelUrl specified"),null;t=yield this.importModel(e.name,e.modelUrl);break;default:x.Z.error(x.Z.types.ENTITIES,`Unspecified entity type. props=${JSON.stringify(e)}`),t=b.MeshBuilder.CreateBox(e.name,{},this._scene);break}if(t){if(t.id=e.id,t.position=new $.P(e.position.x,e.position.y,e.position.z),t.rotation=new $.P(e.rotation.x,e.rotation.y,e.rotation.z),t.scaling=new $.P(e.dimensions.x,e.dimensions.y,e.dimensions.z),e.color){const n=new W.KuD(e.name+"-material",this._scene);n.emissiveColor=new $.Wo(e.color.r,e.color.g,e.color.b),t.material=n}return x.Z.info(x.Z.types.ENTITIES,"Successfully created entity: "+t.id),this._entities.set(t.id,t),t.id}return x.Z.error(x.Z.types.ENTITIES,"Failed to create entity."),null}))}deleteEntityById(e){const t=this._scene.getNodeByID(e);t?(t.dispose(),this._entities.delete(e)):x.Z.error(x.Z.types.ENTITIES,`Failed to delete entity by ID: ${e}`)}deleteEntityByName(e){const t=this._scene.getNodeByName(e);t?(this._entities.delete(t.id),t.dispose()):x.Z.error(x.Z.types.ENTITIES,`Failed to delete entity by name: ${e}`)}buildTestScene(){return T(this,void 0,void 0,(function*(){const e=this._scene;e.clearColor=new $.HE(.8,.8,.8,0),e.createDefaultCameraOrLight(!0,!0,!0),e.createDefaultEnvironment(),yield this.addEntity({name:"box",type:"Shape",shape:"box",position:{x:-5,y:0,z:0},rotation:{x:-.2,y:-.4,z:0},dimensions:{x:3,y:3,z:3},color:{r:1,g:0,b:0}}),yield this.addEntity({name:"sphere",type:"Shape",shape:"sphere",position:{x:-3,y:0,z:0},rotation:{x:0,y:-.5,z:0},dimensions:{x:3,y:3,z:3},color:{r:0,g:.58,b:.86}}),yield this.addEntity({name:"cone",type:"Shape",shape:"cone",position:{x:-1,y:0,z:0},rotation:{x:0,y:-.5,z:0},dimensions:{x:1,y:1,z:1},color:{r:1,g:.58,b:.86}}),yield this.addEntity({name:"cylinder",type:"Shape",shape:"cylinder",position:{x:1,y:0,z:0},rotation:{x:0,y:-.5,z:0},dimensions:{x:1,y:1,z:1},color:{r:1,g:.58,b:.86}}),yield this.addEntity({name:"triangle",type:"Shape",shape:"triangle",position:{x:3,y:0,z:0},rotation:{x:0,y:-.5,z:0},dimensions:{x:1,y:1,z:1},color:{r:1,g:.58,b:.86}});const t=(0,Z.v4)();yield this.addEntity({name:"entityToDeleteByID",id:t,type:"Shape",shape:"triangle",position:{x:3,y:-2,z:0},rotation:{x:0,y:-.5,z:0},dimensions:{x:1,y:1,z:1},color:{r:1,g:.58,b:.86}}),this.deleteEntityById(t),yield this.addEntity({name:"entityToDeleteByName",type:"Shape",shape:"triangle",position:{x:3,y:2,z:0},rotation:{x:0,y:-.5,z:0},dimensions:{x:1,y:1,z:1},color:{r:1,g:.58,b:.86}}),this.deleteEntityByName("entityToDeleteByName"),yield this.addEntity({name:"fox",type:"Model",modelUrl:"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Fox/glTF/Fox.gltf",position:{x:5,y:0,z:0},rotation:{x:0,y:-.5,z:0},dimensions:{x:.05,y:.05,z:.05}})}))}}var z=function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{l(o.next(e))}catch(t){a(t)}}function r(e){try{l(o["throw"](e))}catch(t){a(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((o=o.apply(e,t||[])).next())}))};const E={_engine:void 0,_renderingScenes:void 0,initialize(e){return z(this,void 0,void 0,(function*(){E._engine=new b.Engine(e),this._renderingScenes=new Array,setInterval((()=>{var e,t;E._engine&&E._renderingScenes.length>0&&E._renderingScenes[0]&&_.Store.commit(_.Mutations.MUTATE,{property:"renderer",with:{fps:E._engine.getFps(),cameraLocation:null===(e=E._renderingScenes[0]._scene.activeCamera)||void 0===e?void 0:e.globalPosition.clone(),cameraRotation:null===(t=E._renderingScenes[0]._scene.activeCamera)||void 0===t?void 0:t.absoluteRotation.clone()}})}),Number(k.De.getItem("Renderer.StatUpdateSeconds","1000")))}))},createScene(e=0){const t=new C(E._engine,e);return this._renderingScenes[e]=t,t},getScene(e=0){return this._renderingScenes[e]},resize(e,t){this._engine.resize()},startRenderLoop(e){this._renderingScenes=e,this._engine.runRenderLoop(E._renderLoop)},_renderLoop(){E._renderingScenes.forEach((e=>{e._scene.render()}))}};var M=function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{l(o.next(e))}catch(t){a(t)}}function r(e){try{l(o["throw"](e))}catch(t){a(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((o=o.apply(e,t||[])).next())}))};const I=(0,o.aZ)({name:"MainScene",$refs:{mainSceneAudioElement:HTMLFormElement},data:()=>({scene:void 0,canvasHeight:200,canvasWidth:200}),computed:{},methods:{onResize(e){this.canvasHeight=e.height,this.canvasWidth=e.width,E.resize(e.height,e.width)},setOutputStream(e){const t=this.$refs.mainSceneAudioElement;e?(t.srcObject=e,t.play()):(t.pause(),t.srcObject=null)}},created:function(){return Boolean(this.scene)},mounted:function(){return M(this,void 0,void 0,(function*(){const e=this.$refs.renderCanvas;yield E.initialize(e),this.$store.commit(_.Mutations.MUTATE,{property:"renderer/focusSceneId",value:0}),yield S.$.initialize(this.setOutputStream.bind(this)),this.scene=E.createScene(),yield this.scene.buildTestScene(),E.startRenderLoop([this.scene])}))}});var O=n(74260),D=n(24379),U=n(15151),A=n(7518),L=n.n(A);const N=(0,O.Z)(I,[["render",w]]),q=N;function P(e,t,n,i,a,s){return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.overlays,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.name},[((0,o.wg)(),(0,o.j4)((0,o.LL)(t.name),{propsToPass:t,onOverlayAction:n=>e.onAction(t.name,n)},null,8,["propsToPass","onOverlayAction"]))])))),128)}L()(I,"components",{QPage:D.Z,QResizeObserver:U.Z});const Q=(0,o.aZ)({name:"OverlayManager",props:{},data:()=>({overlays:[]}),methods:{getOverlayIndex(e){for(let t=0;t<this.overlays.length;t++)if(this.overlays[t].name===e)return t;return-1},onAction(e,t){let n="",o=t;x.Z.debug(x.Z.types.OTHER,`OverlayManager.onAction: ${e}: ${o}`);const i=this.getOverlayIndex(e);switch(o.indexOf(":")>-1&&(n=o.split(":")[1],o=o.split(":")[0]),o){case"select":{const e=this.overlays.splice(i,1)[0];this.overlays.push(e);break}case"minimize":"minimized"===this.overlays[i].overlayStatus?this.overlays[i].overlayStatus="restored":this.overlays[i].overlayStatus="minimized";break;case"maximize":"maximized"===this.overlays[i].overlayStatus?this.overlays[i].overlayStatus="restored":this.overlays[i].overlayStatus="maximized";break;case"close":this.overlays.splice(i,1);break;case"openOverlay":this.openOverlay(n);break;default:window.alert("Action not supported: "+o);break}},openOverlay(e){x.Z.debug(x.Z.types.OTHER,`OverlayManager.openOverlay: ${e}`);const t=this.getOverlayIndex(e);if(t>=0){const e=this.overlays.splice(t,1)[0];e.overlayStatus="restored",this.overlays.push(e)}else this.overlays.push({name:e,overlayStatus:"restored"})},toggleOverlay(e){x.Z.debug(x.Z.types.OTHER,`OverlayManager.openOverlay: ${e}`);const t=this.getOverlayIndex(e);t>=0?this.overlays.splice(t,1):this.overlays.push({name:e,overlayStatus:"restored"})}}}),R=(0,O.Z)(Q,[["render",P]]),B=R;var H=n(30757),F=n(9684),j=function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{l(o.next(e))}catch(t){a(t)}}function r(e){try{l(o["throw"](e))}catch(t){a(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((o=o.apply(e,t||[])).next())}))};const K=(0,o.aZ)({name:"MainLayout",$refs:{MainScene:HTMLFormElement,OverlayManager:HTMLFormElement},components:{MainScene:q,OverlayManager:B},data(){return{locationInput:"",settingsMenu:[{icon:"headphones",label:"Audio",link:"",isCategory:!1,separator:!0},{icon:"lightbulb",label:"Light / Dark",action:()=>{this.$q.dark.toggle(),x.Z.info(x.Z.types.OTHER,"Toggle Dark")},isCategory:!1,separator:!0}],helpMenu:[{icon:"chat",label:"Discord",link:"https://discord.com/invite/Pvx2vke"},{icon:"forum",label:"Forum",link:"https://forum.vircadia.com/"},{icon:"support",label:"User Documentation",link:"https://docs.vircadia.com/"}],defaultProductLogo:"assets/vircadia-icon.svg"}},computed:{getDialogState:{get(){return this.$store.state.dialog.show},set(e){this.setDialogState(e)}},getLocation:function(){var e;return null!==(e=this.$store.state.avatar.location)&&void 0!==e?e:"Not currently connected to a domain"},getDomainServerState:function(){return this.$store.state.domain.url&&this.$store.state.domain.url.length>0?`${this.$store.state.domain.connectionState} (${this.$store.state.domain.url})`:this.$store.state.domain.connectionState},getMetaverseServerState:function(){return this.$store.state.metaverse.server&&this.$store.state.metaverse.server.length>0?`${this.$store.state.metaverse.connectionState} (${this.$store.state.metaverse.server})`:this.$store.state.metaverse.connectionState},getProfilePicture:function(){return this.$store.state.account.images&&this.$store.state.account.images.thumbnail?this.$store.state.account.images.thumbnail:"assets/defaultProfile.svg"},getShowDisconnect:function(){return!!(this.$store.state.domain.url&&this.$store.state.domain.url.length>0&&this.$store.state.domain.connectionState.startsWith("CONNECT"))},getDisconnectLabel:function(){return"CONNECTING"===this.$store.state.domain.connectionState?"Cancel":"CONNECTED"===this.$store.state.domain.connectionState?"Disconnect":"false"}},watch:{$route:"parseRouteParams"},methods:{setDialogState:function(e){this.$store.commit(_.Mutations.MUTATE,{property:"dialog.show",value:e})},toggleUserMenu:function(){this.$refs.OverlayManager.toggleOverlay("menu")},connect:function(){return j(this,void 0,void 0,(function*(){yield this.connectToAddress(this.locationInput)}))},connectToAddress:function(e){return j(this,void 0,void 0,(function*(){x.Z.info(x.Z.types.UI,`Connecting to...${e}`),yield H.b.connectionSetup(e)}))},disconnect:function(){return j(this,void 0,void 0,(function*(){x.Z.info(x.Z.types.UI,`Disconnecting from to...${this.$store.state.avatar.location}`),yield H.b.disconnectActiveDomain()}))},logout:function(){F.m.logout()},openDialog:function(e,t){this.$store.commit(_.Mutations.MUTATE,{property:"dialog",with:{show:!1,which:""}}),this.$store.commit(_.Mutations.MUTATE,{property:"dialog",with:{show:t,which:e}})},closeDialog:function(){this.$store.commit(_.Mutations.MUTATE,{property:"dialog",with:{show:!1,which:""}})},onClickOpenOverlay:function(e){this.$refs.OverlayManager.openOverlay(e)},openUrl:function(e){(0,g.Z)(e)},parseRouteParams:function(){return j(this,void 0,void 0,(function*(){x.Z.info(x.Z.types.UI,"Parse Route params");const e=this.$route.params.address;e&&e.length>0&&(x.Z.info(x.Z.types.UI,`Connect to...${e}`),yield this.connectToAddress(e),this.$router.push({path:"/"}))}))},micToggled:function(){!0===this.$store.state.audio.user.hasInputAccess&&S.$.muteAudio()}},mounted:function(){return j(this,void 0,void 0,(function*(){F.m.onAttributeChange.connect((function(e){_.Store.dispatch(_.Actions.UPDATE_ACCOUNT_INFO,e)})),yield this.parseRouteParams(),this.$refs.OverlayManager.openOverlay("menu")}))}});var G=n(19214),V=n(53812),Y=n(39570),J=n(28104),X=n(36375),ee=n(2165),te=n(62025),ne=n(65869),oe=n(13747),ie=n(52035),ae=n(2350),se=n(83414),re=n(75096),le=n(86335),ce=n(27011),ue=n(24554),de=n(82226),me=n(72652),he=n(5926),pe=n(10151),ye=n(46489);const ge=(0,O.Z)(K,[["render",y]]),fe=ge;L()(K,"components",{QLayout:G.Z,QHeader:V.Z,QToolbar:Y.Z,QInput:J.Z,QBtnGroup:X.Z,QBtn:ee.Z,QSpace:te.Z,QSeparator:ne.Z,QToolbarTitle:oe.Z,QItemSection:ie.Z,QItemLabel:ae.Z,QItem:se.Z,QAvatar:re.Z,QMenu:le.Z,QList:ce.Z,QIcon:ue.Z,QBtnDropdown:de.Z,QPageContainer:me.Z,QDialog:he.Z,QCard:pe.Z}),L()(K,"directives",{Ripple:ye.Z})}}]);